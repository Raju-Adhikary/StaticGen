+++
{
    "layout": "base.html",
    "title": "Blog Archive",
    "description": "All blog posts from My Awesome Static Blog."
}
+++
{% extends "base.html" %}

{% block title %}Blog - {{ site.config.site_title }}{% endblock %}

{% block content %}
    <h1>Blog Archive</h1>

    {% if site.collections.posts %}
        {# Sort posts by the datetime object added in Python for reliable date sorting #}
        {% set sorted_posts = site.collections.posts | sort(attribute='front_matter._date_obj', reverse=True) %}
        
        {% for post in sorted_posts %}
            <div class="post-list-item">
                <h3><a href="{{ post.url }}">{{ post.front_matter.title }}</a></h3>
                <p class="post-meta">Published: {{ post.front_matter.date }}
                    {% for author in site.data.authors if author.id == post.front_matter.author %}
                        by {{ author.name }}
                    {% endfor %}
                </p>
                <p>{{ post.front_matter.description }}</p>
                <p><a href="{{ post.url }}">Read more â†’</a></p>
            </div>
        {% endfor %}
    {% else %}
        <p>No blog posts found yet.</p>
    {% endif %}
{% endblock %}
