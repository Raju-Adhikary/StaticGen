+++
{
    "layout": "base.html",
    "title": "Home Page",
    "description": "The main landing page for our static site demo."
}
+++
{% extends "base.html" %}

{% block title %}Home - {{ site.config.site_title }}{% endblock %}

{% block content %}
    <h1>Welcome to the Demo Static Site!</h1>
    <p>This page demonstrates the functionality of our custom static site generator built with Python and Jinja2.</p>

    <h2>Current Page Information</h2>
    <div class="info-box">
        <p><strong>Canonical URL:</strong> <code>{{ page.canonical }}</code></p>
        <p><strong>Absolute Final URL:</strong> <code>{{ page.absolute_final_url }}</code></p>
    </div>

    <h2>Dynamic Content with 'now' Tag</h2>
    <p>This content was generated at: <strong>{% now "%Y-%m-%d %H:%M:%S" %}</strong></p>
    <p>Another format: <strong>{% now "%A, %B %d, %Y" %}</strong></p>

    <h2>Static Files and Assets</h2>
    <p>Below is an example of a static image loaded using the `static` tag:</p>
    <img src="{% static 'images/demo-image.png' %}" alt="Demo Image">
    <p>And an asset copied directly (assuming it's in the root of the build directory):</p>
    <img src="{% url 'asset-image.png' %}" alt="Asset Image">

    <h2>Data Files Example</h2>
    <p>Contact Email from data file: {{ site.data.settings.contact_email }}</p>
    <p>First author's name: {{ site.data.authors[0].name }}</p>

    <h2>Latest Blog Posts</h2>
    {% if site.collections.posts %}
        {% set sorted_posts = site.collections.posts | sort(attribute='front_matter._date_obj', reverse=True) %}
        {% for post in sorted_posts[0:3] %}
            <div class="post-list-item">
                <h3><a href="{{ post.url }}">{{ post.front_matter.title }}</a></h3>
                <p class="post-meta">Published: {{ post.front_matter.date }}</p>
                <p>{{ post.front_matter.description }}</p>
            </div>
        {% endfor %}
        <p><a href="{{ url('blog/index.html') }}">View All Posts â†’</a></p>
    {% else %}
        <p>No blog posts found.</p>
    {% endif %}

    <h2>Example of Page-Specific Data</h2>
    <p>Check out our new <a href="{{ url('products/widget.html') }}">Super Widget 3000 page</a>!</p>

{% endblock %}
